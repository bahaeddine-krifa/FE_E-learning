<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

<div class="wrapper">
    <div class="container-fluid" id="main-container-condidat">
        <div class="row">
            <div class="col-md-12">
                <div class="mt-5 mb-3 d-flex justify-content-between">
                    <h2 class="pull-left">Liste des Ã©tudiants</h2>
                    <a  class="btn btn-success" (click)="open(content,addCondidat,'add')"><i class="bi bi-plus"></i> Ajouter</a>

                                </div>
               <table class="table table-bordered table-striped">
            <thead>
            <tr>
            <th>Nom</th>
            <th>Prenom</th>
            <th>email</th>
            <th>login</th>
            <th>password</th>
            <th>Action</th>
            </tr>
            </thead>
            <tbody>
            <tr *ngFor="let condidat of condidats">
            <td>{{condidat.nom}}</td>
            <td>{{condidat.prenom}}</td>
            <td>{{condidat.email}}</td>
            <td>{{condidat.login}}</td>
            <td>{{condidat.password}}</td>
            <td>
            <a  class="me-3" (click)="open(content_edit,condidat,'edit')"><span class="bi bi-pencil"></span></a>
             <a class="me-3" (click)="open(content_delete,condidat,'delete')"><span class="bi bi-trash"></span></a>
            </td>
            </tr>
            <tbody>
            </table>
            </div>
        </div>   
        
        
    </div>
</div>
<!--AddCondidat-->
<ng-template #content let-c="close" let-d="dismiss">
	<div class="modal-header">
		<h4 class="modal-title" id="modal-basic-title">Ajoute Etudiant</h4>
		<button type="button" class="btn-close" aria-label="Close" (click)="d('Cross click')"></button>
	</div>
	<div class="modal-body">
		<form #addFormCondidat="ngForm" (ngSubmit)="onAddCondidat(addFormCondidat)">
            <div class="form-group">
               <label for="nom">Name</label>
               <input type="text" ngModel name="nom" class="form-control" id="nom" placeholder="Name" required>
            </div>
            <div class="form-group">
                <label for="prenom">LastName</label>
                <input type="text" ngModel name="prenom" class="form-control" id="prenom" placeholder="LastName" required>
             </div>
            <div class="form-group">
               <label for="email">Email Address</label>
               <input type="email" ngModel name="email" class="form-control" id="email" placeholder="Email" required>
            </div>
            <div class="form-group">
               <label for="login">Login</label>
               <input type="text" ngModel name="login" class="form-control" id="login" placeholder="Logi" required>
            </div>
            <div class="form-group">
               <label for="password">Password</label>
               <input type="text" ngModel name="password" class="form-control" id="password" placeholder="Password" required>
            </div>
            <div class="modal-footer">
               <button type="button" id="add-employee-form" class="btn btn-secondary" data-dismiss="modal" (click)="c('Close')">Close</button>
               <button [disabled]="addFormCondidat.invalid" type="submit" class="btn btn-primary" (click)="d('Cross click')">Add</button>
            </div>
            </form>
	</div>
	
</ng-template>

<!--EditCondidat-->
<ng-template #content_edit let-c="close" let-d="dismiss" >
	<div class="modal-header">
		<h4 class="modal-title" id="modal-basic-title">Edit Etudiant <kbd> {{editCondidat.nom}}</kbd></h4>
		<button type="button" class="btn-close" aria-label="Close" (click)="d('Cross click')"></button>
	</div>
	<div class="modal-body">
		<form #editFormCondidat="ngForm" (ngSubmit)="onUpdateCondidat(editFormCondidat.value)">
            <div class="form-group">
               <label for="nom">Name</label>
               <input type="text" ngModel="{{editCondidat?.nom}}" name="nom" class="form-control" id="nom" placeholder="Name" required>
            </div>
            <input type="hidden" ngModel="{{editCondidat?.id}}" name="id" class="form-control" id="id" placeholder="id">

            <div class="form-group">
                <label for="prenom">LastName</label>
                <input type="text" ngModel="{{editCondidat?.prenom}}" name="prenom" class="form-control" id="prenom" placeholder="LastName" required>
             </div>
            <div class="form-group">
               <label for="email">Email Address</label>
               <input type="email" ngModel="{{editCondidat?.email}}" name="email" class="form-control" id="email" placeholder="Email" required>
            </div>
            <div class="form-group">
               <label for="login">Login</label>
               <input type="text" ngModel="{{editCondidat?.login}}" name="login" class="form-control" id="login" placeholder="Logi" required>
            </div>
            <div class="form-group">
               <label for="password">Password</label>
               <input type="text" ngModel="{{editCondidat?.password}}" name="password" class="form-control" id="password" placeholder="Password" required>
            </div>
            <div class="modal-footer">
               <button type="button" id="add-employee-form" class="btn btn-secondary" data-dismiss="modal" (click)="c('Close')">Close</button>
               <button [disabled]="editFormCondidat.invalid" type="submit" class="btn btn-primary" (click)="d('Cross click')">Update</button>
            </div>
            </form>
	</div>
	
</ng-template>

<!--DeleteCondidat-->
<ng-template #content_delete let-c="close" let-d="dismiss">
	<div class="modal-header">
		<h4 class="modal-title" id="modal-basic-title">Delete Etudiant </h4>
		<button type="button" class="btn-close" aria-label="Close" (click)="d('Cross click')"></button>
	</div>
	<div class="modal-body">
        <p>Are you sure you want to delete condidat <kbd> {{deleteCondidat.nom}}</kbd> ?</p>
            <div class="modal-footer">
                <button type="button" id="add-employee-form" class="btn btn-secondary" data-dismiss="modal" (click)="c('Close')">No</button>
                <button class="btn btn-primary" (click)="onDeleteCondidat(deleteCondidat.id)"  (click)="d('Cross click')" >Yes</button>
             </div>
	</div>
	
</ng-template>